/*!
 * jQuery-TOC
 * Table of Contents Generator Plugin for (non-)jQuery
 * 
 * @author Dolphin Wood
 * @version 0.0.6
 * Copyright 2015. MIT licensed.
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t=function(e){if("string"!=typeof e)return 0;var t=e.match(/\d/g);return t?Math.min.apply(null,t):1},n=function(t,n,r,o){for(;n--;)t=e("<ol/>").addClass(o).appendTo(t),n&&(t=e("<li/>").addClass(r).appendTo(t));return t},r=function(e,t){for(;t--;)e=e.parent();return e},o=function(t,n){return function(r,o,a){var s=r.text(),i=n+"-"+a;e("<span />").addClass("toc-text").text(s).appendTo(o);var l=r[0],c=o[0],d=t?i:l.id||i;d=encodeURIComponent(d),l.id=d,c.href="#"+d}},a=function(a){var s=a.selector,i=a.scope,l=a.rootClass,c=a.itemClass,d=a.linkClass,f=a.childrenClass,u=e("<ol/>").addClass(l),p=u,h=null,C=t(s),m=o(a.overwrite,a.prefix);return e(i).find(s).each(function(o,a){var s=t(a.tagName),i=s-C;i>0&&(p=n(h,i,c,f)),i<0&&(p=r(p,2*-i)),p.length||(p=u);var l=e("<li/>").addClass(c),v=e("<a/>").addClass(d);m(e(a),v,o),l.append(v).appendTo(p),h=l,C=s}),u};e.fn.initTOC=function(t){var n={selector:"h1, h2, h3, h4, h5, h6",scope:"body",overwrite:!1,prefix:"toc",rootClass:"toc",itemClass:"toc-item",linkClass:"toc-link",childrenClass:"toc-child"};t=e.extend(n,t);var r=t.selector;if("string"!=typeof r)throw new TypeError("selector must be a string");if(!r.match(/^(?:h[1-6],?\s*)+$/g))throw new TypeError("selector must contains only h1-6");e(this).append(a(t));var o=location.hash;return o&&setTimeout(function(){var e=document.getElementById(o.slice(1));e&&e.scrollIntoView()},0),e(this)}});